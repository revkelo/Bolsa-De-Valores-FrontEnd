<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <style>
    .table-container {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

.log-table {
  width: 80%; /* Ajusta el ancho de la tabla según sea necesario */
  border-collapse: collapse;
}

.log-table th, .log-table td {
  border: 1px solid #ddd;
  padding: 8px;
  text-align: left;
}

.log-table th {
  background-color: #f2f2f2;
}

  </style>
</head>

<body class="bg-gray-100 font-sans antialiased">

  <div class="flex flex-col min-h-screen lg:flex-row">

    <!-- Sidebar -->
    <aside
      class="w-full lg:w-64 bg-white p-6 border-b lg:border-b-0 lg:border-r border-gray-200 lg:h-screen lg:overflow-y-auto lg:fixed lg:left-0 lg:top-0 z-10"
      id="sidebar">
      <div class="flex items-center gap-4 text-[#111418] mb-4">
        <div class="size-4">
          <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M8.57829 8.57829C5.52816 11.6284 3.451 15.5145 2.60947 19.7452C1.76794 23.9758 2.19984 28.361 3.85056 32.3462C5.50128 36.3314 8.29667 39.7376 11.8832 42.134C15.4698 44.5305 19.6865 45.8096 24 45.8096C28.3135 45.8096 32.5302 44.5305 36.1168 42.134C39.7033 39.7375 42.4987 36.3314 44.1494 32.3462C45.8002 28.361 46.2321 23.9758 45.3905 19.7452C44.549 15.5145 42.4718 11.6284 39.4217 8.57829L24 24L8.57829 8.57829Z"
              fill="currentColor"></path>
          </svg>
        </div>
        <h2 class="text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em]">Andina Trading</h2>
      </div>
      <nav>
        <ul>
          <li class="mb-3">
            <a href="#" class="flex items-center text-gray-600 hover:text-gray-900" onclick="togglePanel('homePanel')">
              <span class="material-icons">home</span>
              <span class="ml-3">Home</span>
            </a>
          </li>
          <li class="mb-3">
            <a href="#" class="flex items-center text-gray-600 hover:text-gray-900"
              onclick="togglePanel('investorManagementPanel')">
              <span class="material-icons">people</span>
              <span class="ml-3">Administrar Inversores</span>
            </a>
          </li>
          <li class="mb-3">
            <a href="#" class="flex items-center text-gray-600 hover:text-gray-900"
              onclick="togglePanel('commissionerManagementPanel')">
              <span class="material-icons">account_circle</span>
              <span class="ml-3">Administrar comisionistas</span>
            </a>
          </li>
          <li class="mb-3">
            <a href="#" class="flex items-center text-gray-600 hover:text-gray-900" onclick="togglePanel('logPanel')">
              <span class="material-icons">history</span>
              <span class="ml-3">Ver Logs de Usuario</span>
            </a>
          </li>          
          <li class="mt-6">
            <a href="#" class="flex items-center text-gray-600 hover:text-gray-900" onclick="logout()">
              <span class="material-icons">logout</span>
              <span class="ml-3">Cerrar Sesión</span>
            </a>
          </li>
        </ul>
      </nav>
    </aside>

    <!-- Main Content -->
    <div class="flex-1 p-6 lg:ml-64">
      <div id="homePanel" class="panel mb-8 ">
        <img src="./images/home.jpg" alt="Descripción de la imagen" class="w-full h-auto mb-4">
      </div>

      <!-- Investor Management Panel -->
      <div id="investorManagementPanel" class="panel mb-8 hidden">
        <h1 class="text-2xl font-semibold mb-4">Administrar inversionista</h1>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <!-- Create Investor Card -->
          <div class="bg-white p-4 rounded shadow">
            <h2 class="text-lg font-semibold mb-2">Crear inversionista</h2>
            <form class="mb-4" id="create-investor-form">
              <input type="text" placeholder="Nombre" class="border rounded p-2 mb-2 w-full"
                id="name-inversionista" required />
              <input type="email" placeholder="Email" class="border rounded p-2 mb-2 w-full"
                id="email-inversionista" required />
              <input type="password" placeholder="Contraseña" class="border rounded p-2 mb-2 w-full"
                id="password-inversionista" required />
              <input type="date" class="border rounded p-2 mb-2 w-full" id="date-of-birth-inversionista">
              <input type="text" class="border rounded p-2 mb-2 w-full" id="risk-profile-inversionista"
                placeholder="Ingresa tu perfil de riesgo">
              <input type="text" class="border rounded p-2 mb-2 w-full" id="country-inversionista"
                placeholder="Ingresa tu país">
              <button type="submit" class="bg-blue-500 text-white p-2 rounded w-full">Crear</button>
            </form>
          </div>

          <!-- Update Investor Card -->
          <div class="bg-white p-4 rounded shadow">
            <h2 class="text-lg font-semibold mb-2">Actualizar inversionista</h2>
            <form class="mb-4" id="update-investor-form">
              <input type="text" placeholder="ID inversionista" class="border rounded p-2 mb-2 w-full"
                id="id-inversionista-update" required />
              <input type="text" placeholder="Nombre" class="border rounded p-2 mb-2 w-full"
                id="name-inversionista-update" required />
              <input type="email" placeholder="Email" class="border rounded p-2 mb-2 w-full"
                id="email-inversionista-update" required />
              <input type="password" placeholder="Contraseña" class="border rounded p-2 mb-2 w-full"
                id="password-inversionista-update" required />
              <input type="date" class="border rounded p-2 mb-2 w-full" id="date-of-birth-inversionista-update"
                required>
              <input type="text" placeholder="Perfil de riesgo" class="border rounded p-2 mb-2 w-full"
                id="risk-profile-inversionista-update" required />
              <input type="text" placeholder="País" class="border rounded p-2 mb-2 w-full"
                id="country-inversionista-update" required />
              <button type="submit" class="bg-yellow-500 text-white p-2 rounded w-full">Actualizar</button>
            </form>
          </div>

          <!-- Delete Investor Card -->
          <div class="bg-white p-4 rounded shadow">
            <h2 class="text-lg font-semibold mb-2">Borrar inversionista</h2>
            <form class="mb-4" id="delete-investor-form">
              <input type="text" placeholder="Investor ID" class="border rounded p-2 mb-2 w-full"
                id="id-inversionista-delete" required />
              <button type="submit" class="bg-red-500 text-white p-2 rounded w-full">Borrar</button>
            </form>
          </div>

          <!-- Show List of Investors Card -->
          <div class="bg-white p-4 rounded shadow">
            <h2 class="text-lg font-semibold mb-2">Mostrar Inversionistas</h2>
            <button onclick="showInvestors()" class="bg-gray-500 text-white p-2 rounded w-full">Mostrar Lista</button>

            <!-- Contenedor de la tabla, inicialmente oculto con la clase 'hidden' -->
            <div id="investorList" class="mt-2 hidden">
              <table class="min-w-full mt-2 border">
                <thead>
                  <tr class="bg-gray-200">
                    <th class="border px-4 py-2">Inversionista ID</th>
                    <th class="border px-4 py-2">País</th>
                    <th class="border px-4 py-2">Perfil de Riesgo</th>
                  </tr>
                </thead>
                <tbody id="InvestorTableBody">
                  <!-- Las filas de la tabla se agregarán aquí dinámicamente con JavaScript -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Commissioner Management Panel -->
    <div id="commissionerManagementPanel" class="panel mb-8 hidden">
      <h1 class="text-2xl font-semibold mb-4">Administrar comisionista</h1>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <!-- Create Commissioner Card -->
        <div class="bg-white p-4 rounded shadow">
          <h2 class="text-lg font-semibold mb-2">Crear comisionista</h2>
          <form id="create-commissioner-form" class="mb-4">
            <input type="text" placeholder="Nombre del Comisionista" class="border rounded p-2 mb-2 w-full"
              id="name-comisionista" required />
            <input type="email" placeholder="Email de Comisionista" class="border rounded p-2 mb-2 w-full"
              id="email-comisionista" required />
            <input type="password" placeholder="Contraseña" class="border rounded p-2 mb-2 w-full"
              id="password-comisionista" required />
            <input type="date" class="border rounded p-2 mb-2 w-full" id="date-of-birth-comisionista" required>
            <input type="text" class="border rounded p-2 mb-2 w-full" id="company-comisionista"
              placeholder="Nombre Empresa" required>
            <input type="text" class="border rounded p-2 mb-2 w-full" id="commission-comisionista"
              placeholder="Comisión" required>
            <input type="text" class="border rounded p-2 mb-2 w-full" id="country-comisionista" placeholder="País"
              required>
            <button type="submit" class="bg-blue-500 text-white p-2 rounded w-full">Crear</button>
          </form>
        </div>

        <!-- Update Commissioner Card -->
        <div class="bg-white p-4 rounded shadow">
          <h2 class="text-lg font-semibold mb-2">Actualizar comisionista</h2>
          <form class="mb-4" id="update-commissioner-form">
            <input type="number" placeholder="ID comisionista" class="border rounded p-2 mb-2 w-full"
              id="id-comisionista-update" required />
            <input type="text" placeholder="Nombre" class="border rounded p-2 mb-2 w-full" id="name-comisionista-update"
              required />
            <input type="email" placeholder="Email" class="border rounded p-2 mb-2 w-full"
              id="email-comisionista-update" required />
            <input type="password" placeholder="Contraseña" class="border rounded p-2 mb-2 w-full"
              id="password-comisionista-update" required />
            <input type="date" class="border rounded p-2 mb-2 w-full" id="date-of-birth-comisionista-update" required>
            <input type="text" placeholder="Empresa" class="border rounded p-2 mb-2 w-full"
              id="company-comisionista-update" required />
            <input type="number" placeholder="Comisión Comisionista" class="border rounded p-2 mb-2 w-full"
              id="commission-comisionista-update" required />
            <input type="text" placeholder="País Comisionista" class="border rounded p-2 mb-2 w-full"
              id="country-comisionista-update" required />
            <button type="submit" class="bg-yellow-500 text-white p-2 rounded w-full">Actualizar</button>
          </form>
        </div>

        <!-- Delete Commissioner Card -->
        <div class="bg-white p-4 rounded shadow">
          <h2 class="text-lg font-semibold mb-2">Borrar comisionista</h2>
          <form class="mb-4" id="delete-commissioner-form">
            <input type="text" placeholder="ID comisionista" class="border rounded p-2 mb-2 w-full"
              id="id-comisionista-delete" required />
            <button type="submit" class="bg-red-500 text-white p-2 rounded w-full">Borrar</button>
          </form>
        </div>

        <!-- Show List of Commissioners Card -->
        <div class="bg-white p-4 rounded shadow">
          <h2 class="text-lg font-semibold mb-2">Mostrar comisionista</h2>
          <!-- Botón para mostrar la lista de comisionistas -->
          <button onclick="showCommissioners()" class="bg-gray-500 text-white p-2 rounded w-full">Mostrar lista</button>

          <!-- Contenedor de la tabla, inicialmente oculto con la clase 'hidden' -->
          <div id="commissionerList" class="mt-2 hidden">
            <table class="min-w-full mt-2 border">
              <thead>
                <tr class="bg-gray-200">
                  <th class="border px-4 py-2">ID comisionista</th>
                  <th class="border px-4 py-2">Empresa</th>
                  <th class="border px-4 py-2">Comisión</th>
                  <th class="border px-4 py-2">País</th>
                </tr>
              </thead>
              <tbody id="commissionerTableBody">
                <!-- Las filas de la tabla se agregarán aquí dinámicamente con JavaScript -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Log Management Panel -->
<div id="logPanel" class="panel mb-8 hidden">
  <h1 class="text-2xl font-semibold mb-4">Logs de Usuario</h1>
  <button onclick="showLogs()" class="bg-gray-500 text-white p-2 rounded w-full mb-4">Mostrar Logs</button>

  <!-- Contenedor de la tabla de logs -->
  <!-- Contenedor de la tabla de logs -->
<div id="logList" class="table-container">
  <table class="log-table">
    <thead>
      <tr>
        <th>ID Transacción</th>
        <th>ID Usuario</th>
        <th>Nombre Usuario</th>
        <th>Email Usuario</th>
        <th>Rol Usuario</th>
        <th>Tipo Modificación</th>
        <th>Fecha Modificación</th>
      </tr>
    </thead>
    <tbody id="logTableBody">
      <!-- Las filas de la tabla se agregarán aquí dinámicamente con JavaScript -->
    </tbody>
  </table>
</div>
</div>

  </div>
  </div>
  <script src="./js/admin.js"></script>

</body>

</html>